---
title: k8s in Action(中文版)读后感
tags:
  - 读书 
categories:
  - 读书
date: 2020-9-21
description: 同事的书，正好最近在做关于ai平台私有化的事情，需要把我们的数据管理服务部署到`bml`k8s集群中，所以来看看现在的k8s跟两年前我浅尝辄止的有什么区别，是不是比原来进步了(￣▽￣)"
---

<img src="https://i.loli.net/2020/09/21/oeFav5ckNDIrCBE.jpg" style="zoom: 25%;" />

> 前景：由于不是要专注去研究k8s，只需要了解基础知识和操作，所以采取扫读的方式，根据目录去看我需要的操作的一些实现步骤和原理。

### 大纲
书的第一章概述，按下不表

第二章是Quick Start，话说这个minikube真是不错，尤其在mac上，部署使用起来真是流畅方便哈哈，想当初第一次接触k8s，光是部署就花了我好几天，三台机器部署各个插件、控制器啥的就够忙活了。

第三章到第六章是讲述k8s的一些基础资源

`pod`是运行项目的容器，可以类比于操作系统中的进程，控制资源的基本单位，一个pod中也可以运行多个容器，共享一个存储、网络等
`ReplicaSet`用于控制部署pod
`service`为pod创建外部访问的通信渠道，具有多种隔离方式
`volume`pod的存储

第七章到第十章更专注于如何部署管理一套自己的服务
通过各个`yaml`文件去管理各个基础资源，包括service、volume等，创建好这些后，可以用`deployment`去创建我们的项目容器，并使用挂载的`configmap`配置文件，挂载日志到宿主机，`service account`在容器中对k8s api进行操作，用于创建新的容器，提供外部访问端口等等

第十一章到结尾主要是原理性的东西，包括k8s架构，如何保证三高、安全，如何管理集群的资源，包括扩缩容的方法，高级调度，让容器部署在对应的node上等

第十七章是开发应用的最佳实践，官方给出的使用`server on k8s`的推荐方式，主要有pod的生命周期，服务高可用的保证，方便科学的管理镜像，CICD和自测等

### 结论
作为一个k8s的使用者，我想得到的它也都有，而且给出了yaml文件的书写方式，不过一般都是片段，需要结合上下文来组合，作为字典查阅的话可能效率不会太高。

总体来说这本书更偏向于一个大纲，作为k8s的入门书是相当合适，讲解也比较易懂，非常推荐！
